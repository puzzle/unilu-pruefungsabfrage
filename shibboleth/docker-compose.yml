services:
  shibboleth:
      container_name: shibboleth-sp
      hostname: shibboleth-sp
      build:
        context: .
        dockerfile: Dockerfile
      image: shibboleth-sp
      network_mode: host
      volumes:
        - type: bind
          source: ./secrets/httpd.crt.pem
          target: /etc/pki/tls/certs/httpd.crt.pem
          read_only: true
        - type: bind
          source: ./secrets/httpd.key.pem
          target: /etc/pki/tls/private/httpd.key.pem
          read_only: true
        - type: bind
          source: ./secrets/sp.crt.pem
          target: /etc/shibboleth/sp.crt.pem
          read_only: true
        - type: bind
          source: ./secrets/sp.key.pem
          target: /etc/shibboleth/sp.key.pem
          read_only: true
        - type: bind
          source: ./secrets/SWITCHaaiRootCA.crt.pem
          target: /etc/shibboleth/SWITCHaaiRootCA.crt.pem
          read_only: true